<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 	xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
   	xmlns:c="http://xmlns.jcp.org/jsf/core"	
    xmlns:e="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<script src="https://www.google.com/recaptcha/api.js"></script>
<h:outputStylesheet library="css" name="style.css"/>
<h:outputStylesheet library="webjars" name="font-awesome/4.7.0/css/font-awesome.min-jsf.css" />
<title>Registrar Usuario</title>
</h:head>
<h:body>
<h:form>
		<p:menubar>
			<p:submenu label="#{ControladorUsuario.usuIniciaSesion.nombre}"  icon="pi pi-file">
				
				<p:menuitem value="Editar" action="#{ControladorUsuario.edit(ControladorUsuario.usuIniciaSesion)}"/>
				
				
			</p:submenu>
			
	
			<p:menuitem value="Tarifas" action="#{Rutas.tarifas()}" />	
			<p:menuitem value="Parqueaderos" action="#{Rutas.parqueadero()}" />	
			<p:menuitem value="Reserva" action="#{ControladorReserva.abrirDialogoDeReservas()}"/>
		
			<p:menuitem value="Historial" action="#{Rutas.historial()}"/>
			
			<p:menuitem value="Salida" action="#{ControladorMovimiento.checkOutDialog()}"/>
		
		
		
			<p:menuitem value="Clientes" action="Usuarios" />
		
		
		
		
	
			<p:menuitem value="Logout" action="#{Rutas.salir()}" icon="pi pi-times"/>

		
		</p:menubar>

	</h:form>
         
      <h:form>
    <p:panel header="Personal Details">
              
               <p:messages id="mensaje" autoUpdate="false" severity="info, fatal"/>
                <h:panelGrid columns="3" columnClasses="label, value">
                    <h:outputText value="Nombre: *" />
                    <p:inputText id="txtNombre" value="#{ControladorUsuario.nuevoUsuario.nombre}" type="text" placeholder="Escribe tu nombre" required="true" label="Firstname" requiredMessage="El campo nombre es requerido">
 					<p:keyFilter regEx="/[a-zA-ZÀ-ú\\s\\' ]+/"/>
		            </p:inputText>
 					<p:message for="txtNombre"/>
 					
 					
                    <h:outputText value="Apellidos: *" />
                    <p:inputText id="txtApellido" value="#{ControladorUsuario.nuevoUsuario.apellido}" type="text" placeholder="Escribe tu apellido" required="true" label="Lastname" requiredMessage="El campo apellido es requerido">
                    <p:keyFilter regEx="/[a-zA-ZÀ-ú\\s\\' ]+/"/>
		            </p:inputText>
 					<p:message for="txtApellido"/>
 					
                    <h:outputText value="Direccion: " />
                    <p:inputText id="txtDireccion" value="#{ControladorUsuario.nuevoUsuario.direccion}" placeholder="Escribe tu Direccion" required="true" requiredMessage="El campo direccion es requerido"/>
 					<p:message for="txtDireccion"/>
 					
                    <h:outputText value="Telefono: " />
                    <p:inputMask id="txtTelefono" value="#{ControladorUsuario.nuevoUsuario.celular}" mask="(999) 999-9999" required="true" requiredMessage="El campo telefono es requerido"/>
                    <p:message for="txtTelefono"/>
                               
                    <h:outputText value="Tarjeta de credito: " />
                    <p:inputMask id="txtTarjeta" value="#{ControladorUsuario.nuevoUsuario.tcredito}" mask="9999-9999-9999-9999" required="true" requiredMessage="El campo tarjeta de credito es requerido"/>
                    <p:message for="txtTarjeta"/> 
                    
                    <h:outputText value="CVV" />
                    <p:inputMask id="txtCVV" value="#{ControladorUsuario.nuevoUsuario.cvv}" mask="999" required="true" requiredMessage="El campo CVV es requerido"/>
                    <p:message for="txtCVV"/> 
                   
                   	
                    <h:outputText value="Correo electronico: *" />
                    <p:inputText id="txtCorreo" value="#{ControladorUsuario.nuevoUsuario.correo}" type="email" placeholder="Escribe tu correo" required="true" feedback="true" requiredMessage="El campo tarjeta de correo es requerido" />
                    <p:message for="txtCorreo" />
                    
                 <!--    <h:outputText value="Contraseña: *" />
                    <p:password id="txtContraseña" value="#{ControladorUsuario.nuevoUsuario.clave}" placeholder="Escribe tu Contraseña" required="true" feedback="true" requiredMessage="El campo Contraseña es requerido"/>
 					<p:message for="txtContraseña"/>--> 
 
                    <div  class="g-recaptcha" data-sitekey="6LeQ1cMUAAAAAGz4ZiVpzg6BsInevA34CIbtgIA-"></div>
                    
                </h:panelGrid>
                <p:commandButton ajax="false" value="Registrar" styleClass="btnVerde" action="#{ControladorUsuario.add()}"/>
    </p:panel>
    
    
 
</h:form>
<p:dialog widgetVar="dlgCheckIn" showEffect="fade">
    <h:form prependId="false">
        <h:panelGrid columns="2">
            <h:outputLabel for="title" value="Correo:" />
            <p:inputText id="Correo" value="#{ControladorReserva.nuevaReserva.correoUsuario}" />
 
            <c:facet name="footer">
                <p:commandButton value="Buscar" action="#{ControladorReserva.checkInReserva()}"  />
                <p:commandButton value="Cancelar" onclick="return cancel()" />
            </c:facet>
        </h:panelGrid>
 
        
    </h:form>
</p:dialog>
<p:dialog widgetVar="dlgCheckOut" showEffect="fade">
    <h:form prependId="false">
        <h:panelGrid columns="2">
            <h:outputLabel for="title" value="Correo2:" />
            <p:inputText id="Correo2" value="#{ControladorMovimiento.nuevoMovimiento.correoUsuario}" />
 
            <c:facet name="footer">
                <p:commandButton value="Buscar" action="#{ControladorMovimiento.checkOutAction()}"  />
                <p:commandButton value="Cancelar" onclick="return cancel()" />
            </c:facet>
        </h:panelGrid>
 
        
    </h:form>
    </p:dialog>

	<script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false"></script>
        <script type="text/javascript">
            
 
            function cancel() {
                PF('dlg').hide();

                return false;
            }
            function cancelCheckOut() {
                PF('dlgCheckOut').hide();

                return false;
            }
        </script>
</h:body>
</html>